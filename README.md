# –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–∏–ø–ª–æ–º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –°–æ—Å—Ç–∞–≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

- **2 –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞** —Å Nginx (–Ω–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Application Load Balancer)
- **Application Load Balancer** (ALB)
- **Prometheus** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–æ–≤
- **Grafana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- **Elasticsearch** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤
- **Kibana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤
- **Filebeat** ‚Äî —Å–±–æ—Ä –ª–æ–≥–æ–≤ —Å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–æ–≤
- **prometheus-nginxlog-exporter** ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ Nginx –≤ Prometheus
- **Bastion-—Ö–æ—Å—Ç** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω—ã–π SSH-–¥–æ—Å—Ç—É–ø –≤–Ω—É—Ç—Ä—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## ‚öôÔ∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ—Ä–≤–∏—Å—ã (**Elasticsearch**, **Kibana**, **Filebeat**) –±—ã–ª–∏ **—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ Ansible –≤—Ä—É—á–Ω—É—é**, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker, —Ç.–∫. –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π Docker-–æ–±—Ä–∞–∑–æ–≤ (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ–±—Ä–∞–∑–æ–≤, –æ—à–∏–±–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π). –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `.deb`-–ø–∞–∫–µ—Ç–æ–≤:

- `elasticsearch-8.11.0-amd64.deb`
- `kibana-8.11.0-amd64.deb`
- `filebeat-8.11.0-amd64.deb`

> *–≠—Ç–∏ `.deb`-—Ñ–∞–π–ª—ã –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π/–∞—Ä—Ö–∏–≤ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö Ansible-—Ä–æ–ª—è—Ö.*

–í—Å–µ —Ä–æ–ª–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `roles/`.

Grafana –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é Ansible: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è JSON-–¥—ç—à–±–æ—Ä–¥—ã, datasource –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ ALB (–≤–Ω–µ—à–Ω–∏–µ IP —Å–∫—Ä—ã—Ç—ã)
- Prometheus –∏ Grafana –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ VPN –∏–ª–∏ —á–µ—Ä–µ–∑ IP —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
- –õ–æ–≥–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ
- Kibana –∏ Elasticsearch –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏

## üåê IP-–∞–¥—Ä–µ—Å–∞

| –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ              | –í–Ω–µ—à–Ω–∏–π IP        | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP    |
|------------------------|-------------------|------------------|
| Application LB         | `158.160.164.42`  | ‚Äî                |
| Bastion                | `51.250.73.176`   | ‚Äî                |
| Grafana                | `51.250.98.151`   | `10.20.0.22`     |
| Kibana                 | `84.252.139.203`  | `10.30.0.29`     |
| Elasticsearch          | ‚Äî                 | `10.30.0.34`     |
| Prometheus             | ‚Äî                 | `10.20.0.28`     |
| Web 1 (Nginx)          | ‚Äî                 | `10.10.0.10`     |
| Web 2 (Nginx)          | ‚Äî                 | `10.20.0.29`     |

## üìä –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–∞—à–±–æ—Ä–¥—ã

- **Grafana (–≤–µ–±-–¥–æ—Å—Ç—É–ø)**: [http://51.250.98.151:3000](http://51.250.98.151:3000)
  - –õ–æ–≥–∏–Ω: `admin`
  -  –ü–∞—Ä–æ–ª—å: `admin`
- **Kibana (–≤–µ–±-–¥–æ—Å—Ç—É–ø)**: [http://84.252.139.203:5601](http://84.252.139.203:5601/app/discover)
